
<!doctype html>














<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/assets/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/assets/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/assets/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="" />





  <link rel="alternate" href="/atom.xml" title="丝丝的小窝" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicon.ico?v=5.1.1" />
















<meta name="description" content="491、杜鹃婚约">
<meta name="keywords" content="动漫, 丝丝的小窝， 博客">
<meta property="og:type" content="article">
<meta property="og:title" content="（491-500）记下我看过的那些日本动漫">
<meta property="og:url" content="http://localhost:4000/2022/12/%EF%BC%88491-500%EF%BC%89%E8%AE%B0%E4%B8%8B%E6%88%91%E7%9C%8B%E8%BF%87%E7%9A%84%E9%82%A3%E4%BA%9B%E6%97%A5%E6%9C%AC%E5%8A%A8%E6%BC%AB/">
<meta property="og:site_name" content="丝丝的小窝">
<meta property="og:description" content="491、杜鹃婚约">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="/assets/wp-content/uploads/2022/11/82411143_p0-1-1240x1600.jpg">
<meta property="og:image" content="/assets/wp-content/uploads/2022/11/96419937_p0-1-scaled-1189x1600.jpg">
<meta property="og:image" content="/assets/wp-content/uploads/2022/11/86977015_p0-1-scaled-1236x1600.jpg">
<meta property="og:image" content="/assets/wp-content/uploads/2022/11/96099740_p0-1-1219x1600.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="（491-500）记下我看过的那些日本动漫">
<meta name="twitter:description" content="491、杜鹃婚约">
<meta name="twitter:image" content="/assets/wp-content/uploads/2022/11/82411143_p0-1-1240x1600.jpg">


<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://localhost:4000/"/>





  <title>（491-500）记下我看过的那些日本动漫 | 丝丝的小窝</title>
  
















</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">丝丝的小窝</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一个兴趣使然的小站</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-home2">
          <a href="https://sirongzi.xyz/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            博客站I
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-home3">
          <a href="https://sirongzi.day/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            博客站II
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-friendship">
          <a href="/friendship" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heart"></i> <br />
            
            友链
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

<div id="posts" class="posts-expand">
  
  

  

  
  
  

  <article class="post post-type- " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://localhost:4000/2022/12/%EF%BC%88491-500%EF%BC%89%E8%AE%B0%E4%B8%8B%E6%88%91%E7%9C%8B%E8%BF%87%E7%9A%84%E9%82%A3%E4%BA%9B%E6%97%A5%E6%9C%AC%E5%8A%A8%E6%BC%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="稲葉飯">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/assets/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="丝丝的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
          
          
            （491-500）记下我看过的那些日本动漫
          
        </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-12-16T21:53:02+08:00">
                2022-12-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/category/#/%E6%97%A5%E6%9C%AC%E3%81%AE%E3%82%A2%E3%83%8B%E3%83%A1%E3%81%AE%E8%A8%98%E9%8C%B2%E8%A8%98%E4%BA%8B" itemprop="url" rel="index">
                    <span itemprop="name">日本のアニメの記録記事</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          
            
                <div class="post-description">
                    
                </div>
            
          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
  
  












  <p>491、<strong>杜鹃婚约</strong></p>

<p><img src="/assets/wp-content/uploads/2022/11/82411143_p0-1-1240x1600.jpg" alt="" />自从知道了杜鹃婚约是女作者后，看有些剧情就非常理所当然了。 首先是女性角色确实都很感性很真实，但是男主就像一个学男性思考的女主。其次能安排胃疼的地方通通不落下；感情从坏到好可以非常突然，反之亦然。 举个例子，比如13集就开始打情骂俏，完全就是老夫老妻的感觉，作为男生学不会那么自然。<br />
14集开始男方直接耍脾气不帮忙补习，但是看到对方服软后，就又很快热心起来了。（完全的女性化） 然后最后都在蓝毛面前指向幸是我的妹妹，胃疼剧情它来了。<br />
中间的学习合宿结束后，从19集开始了新的胃疼高潮。 首先是有了个到现在还是打个？的哥哥，其次是父亲道出和妹妹结婚也可以的事实。<br />
以下涉及剧透……<br />
完结撒花，真就一直4人养老剧情，不过我看着还挺舒服的，看完了才发现原来是我之前一直很中意的7人魔女的作者，之前只关注了作者是女性，没想到还是这部我很喜欢的作者……那女主是谁确实没啥悬念了，绘里香赛高，东山又一次炮灰了(&gt;_&lt;)</p>

<p>492、<strong>酷爱电影的庞波小姐</strong></p>

<p><img src="/assets/wp-content/uploads/2022/11/96419937_p0-1-scaled-1189x1600.jpg" alt="" />——可为什么要让我这种人当助手？<br />
——因为你是所有人当中，眼睛最死气沉沉的那个。其他年轻人吧，透过眼神就能看出他们度过了光辉灿烂的青春，但是生活充实的人，思维会变得肤浅，幸福是创作之敌，他们没资格成为创作者。<br />
 你的眼神更像是被社会逼迫到走投无路的人，逃避现实的人会在内心中创造出只属于自己的世界，剥离于现实社会的精神世界越宽广、越深沉，一个人就越有成为创作者的潜力。</p>

<p>——你觉得电影是为谁而拍的？<br />
——应该是为了观众……吧。<br />
——那你为什么会喜欢上电影呢？你肯定是在电影中发现了自己吧。在你的电影中，有你的存在么？</p>

<p>——那么导演，您能告诉我们这部作品您最满意哪一点吗？<br />
——最让我满意的一点，就是把时长剪到了90分钟。</p>

<p>493、<strong>乔西的虎与鱼</strong></p>

<p><img src="/assets/wp-content/uploads/2022/11/86977015_p0-1-scaled-1236x1600.jpg" alt="" />爱情就是时间和付出<br />
梦想则是寄托和安慰</p>

<p>心疼女二，太懂得体贴人，最后受伤的全是自己，啊，有代入感了……</p>

<p>494、<strong>在世界尽头咏唱恋曲的少女</strong></p>

<p><img src="/assets/wp-content/uploads/2022/11/96099740_p0-1-1219x1600.jpg" alt="" />19年的老番了。<br />
YU-NO从游戏改编的角度来说真的是一部神番，上次给我带来这么强冲击力的番还是F/Z。 可以看出制作组真心喜欢这游戏（甚至通关了N种结局），非常还原，我甚至能看出游戏里是怎么个玩法。 看这番有一种番剧带你玩游戏的感觉？<br />
总之就是非常新颖，关键还是工口游戏改编的(&gt;_&lt;) 大女儿和二女儿都好棒。</p>

<figure class="wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-1 is-layout-flex wp-block-gallery-is-layout-flex">![](/assets/wp-content/uploads/2022/11/KX08S8TV__LJ9LALAAH-scaled-1600x739.jpg)![](/assets/wp-content/uploads/2022/11/COU_NEAVSFU@0WD5Z5D-1-scaled-1600x739.jpg)495、**浪漫杀手**

![](/assets/wp-content/uploads/2022/12/102500857_p0-1.jpg)10月这个季度还有一部在奈非上很早就完结的女性向动漫，浪漫杀手，真的太TM好看了，根本停不下来~  
浪漫杀手真的是奈非挖掘出来的不错的作品，在漫画因为销量的原因腰斩，只能以最低限度尽快完稿的情况下，还能坚持补完所有的坑，并构建一个相对完整但又能继续讲下去的故事。上一次遇到这么良心的作品还是风上忍的异体，可惜这比作者后面的所有作品就都没真正意义上完结过了。

496、**组长女儿与保姆**

![](/assets/wp-content/uploads/2022/12/101686659_p0-1-1236x1600.jpg)这个番制作节奏不是很好，不太清楚监督想要表达一个什么主题。  
他是既要表现女儿的可爱、女儿的朋友，又要突出雾岛的改变、雾岛的过去、雾岛的朋友，甚至还要讲述组长的过去、组织的其他成员的过去……  
总之，他要的太多了，导致最后就是一个四不像作品，我既没有感觉到女儿非常可爱吸引我看下去，也没有体会到雾岛的反差萌吸引我看下去，更没有被雾岛的改变所打动吸引我看下去……  
没看过的就不要看了。

497、**摇曳露营movie**

![](/assets/wp-content/uploads/2022/12/image.png)摇曳露营movie我愿称之为——社畜露营plus  
温泉呀，真是越上年纪，越沁人心脾呀。 看完了，总结就是：樱花任务×社畜露营。 电影结尾的取材协力单位真多，hhh。

498、**五等分的花嫁movie**

![](/assets/wp-content/uploads/2022/12/image-1.png)五等分的花嫁movie真的是厨力作品，看得出制作组满满的爱，给第二季不算结局的结尾画上了相对完整的句号。 补充下一些细节吧。 五月是作者被编辑通知，以为会寥寥收尾的情况下的女主，所以第一季被动画提前消费，让人“误以为”是女主，其实就是第一季的女主，也没错。后面开始逐渐没有戏份。一个字惨。  
一花纯粹是凑人数的，大胆又自信的人，还不害怕失去，又获得了各种成功，这种人在剧情里通常被拿来做什么？ ——做反派呀。反派都是这样的，比主角强，比主角成功，最后被主角打倒。所以一开始一花就注定没有任何可能。 但是推进剧情的确是一流的，作为反派。如果汁对应四叶，也是一花提前铺垫的。  
二乃则是颜值和傲娇担当。是作为最难啃的骨头，出现的，但是被啃掉了之后就变成了傲娇的、最容易攻略、最大胆的那个。 这种靠反差萌，而且具有多个特殊属性（现实中一般没有）的角色，在剧情安排里一般是作为吸引人的红花背景。 前中后期性格一成不变，中途才喜欢过去的风太郎，她一开始就没有机会。  
三玖是最有可能的种子选手，被风太郎一手培养，完全靠主角重生的角色。也在这个过程中爱上主角。 但是还是二乃那个思路，二乃在修学旅行看到黄毛照片才爱上过去的主角。而风太郎一直喜欢过去与他相遇的某一个。二乃不是那一个。 三玖逐渐爱上风太郎，三玖不是重逢后一开始就爱上，所以三玖不是那个人。  
四叶动画剧情其实最少，因为最不用操心。 四叶一开始就认出来了风太郎，一开始是自己没有遵守约定（好好学习，长大养母亲），所以无颜和风太郎相认。 后面发现其他姐妹喜欢主角后，又认为自己偷跑对不起其他姐妹（五人一起，任何事情都要五等分的约定），所以她一直在压抑自己的感情，一直选择逃避。  
包括被风太郎表白后，一开始也是在逃避。虽然毛病很多，但是这个作品的作者就是要明明是我先，所以我优势无限大。风太郎一直在找的人是谁，谁就是赢家，排除法就好了。 四叶的特色是独立自主，并且暗中帮助主角。 另外，上图这个主角呆毛，看出来是谁的发饰了不，作者一开始就在暗示呀。真的良心。  
补充下，五月角色特点就是没有特点，一切都遵循他人的路线，包括转学、努力学习、成为老师，所有这些。 她也是唯一一个隐隐知道四叶之前就认识风太郎的人。（中途还帮四叶扮演过零奈） 所以她最能看开，也知道自己几乎一定不会被选中。 真的是被各种消费的人，呜呜呜。 虽然三玖赛高，但是五月大好き。

499、**因为是反派大小姐所以养了魔王**

![](/assets/wp-content/uploads/2022/12/93259683_p0-1.jpg)观感意外的不错的悪役令嬢番。  
女主高桥李依配音，甜中带凶。反派当然是花泽香菜啦，太典了。  
主线分为3个部分剧情，第二部分感觉特别好看，就是鸭子头那部，233.

500、**转生就是剑**

![](/assets/wp-content/uploads/2022/12/103453597_p0-1.png)没有师父只想吃咖喱的屑图片。  
这番制作组找到了精髓，那就是芙兰可爱就完事儿了，卡哇伊。  
小说原著意外的还行，好像是个上班族的业余之作。用作者的原话来说就是下班回家不知道干嘛，然后朋友建议他可以写小说投稿在“成为小说家吧”，于是他就真的做了。而且看起来是很肝的样子，还自得其乐。真的，我哭死。
</figure>


      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
      
      
      
      

      
      
        <div class="post-nav" id="post-nav-id">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2022/12/%EF%BC%88501-510%EF%BC%89%E8%AE%B0%E4%B8%8B%E6%88%91%E7%9C%8B%E8%BF%87%E7%9A%84%E9%82%A3%E4%BA%9B%E6%97%A5%E6%9C%AC%E5%8A%A8%E6%BC%AB/" rel="next" title="（501-510）记下我看过的那些日本动漫">
                <i class="fa fa-chevron-left"></i> （501-510）记下我看过的那些日本动漫
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2022/10/%EF%BC%88481-490%EF%BC%89%E8%AE%B0%E4%B8%8B%E6%88%91%E7%9C%8B%E8%BF%87%E7%9A%84%E9%82%A3%E4%BA%9B%E6%97%A5%E6%9C%AC%E5%8A%A8%E6%BC%AB/" rel="prev" title="（481-490）记下我看过的那些日本动漫">
                （481-490）记下我看过的那些日本动漫 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      
      

      
    </footer>
  </article>

  <div class="post-spread">
    
  </div>
</div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          

  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        
        
        







      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/assets/images/avatar.png"
               alt="稲葉飯" />
          <p class="site-author-name" itemprop="name">稲葉飯</p>
           
              <p class="site-description motion-element" itemprop="description">饭饭的github小窝,一个白嫖的网站</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">132</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        
        
        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>

        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">稲葉飯</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://jekyllrb.com">Jekyll</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/simpleyyt/jekyll-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





















  
   
  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery/index.js?v=2.1.3"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/assets/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/assets/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/assets/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/assets/js/src/schemes/pisces.js?v=5.1.1"></script>



  <script type="text/javascript" src="/assets/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/assets/js/src/post-details.js?v=5.1.1"></script>


  


  <script type="text/javascript" src="/assets/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  











  




  

    

  







  


  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  


  

  

  

</body>
</html>

